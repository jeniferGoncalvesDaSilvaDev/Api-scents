
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ api_title }} - Documentação</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>{{ api_title }} - Documentação</h1>
            <p>Versão {{ api_version }}</p>
        </header>
        
        <section>
            <h2>Visão Geral</h2>
            <p>Esta API permite o envio e processamento de anúncios com a tecnologia Scents.</p>
        </section>
        
        <section>
            <h2>Endpoints Disponíveis</h2>
            
            <h3>Autenticação</h3>
            <ul>
                <li><strong>POST /register</strong> - Registrar novo usuário</li>
                <li><strong>POST /login</strong> - Autenticar e obter token</li>
                <li><strong>POST /logout</strong> - Revogar token atual</li>
            </ul>
            
            <h3>Anúncios</h3>
            <ul>
                <li><strong>POST /upload</strong> - Enviar novo anúncio</li>
                <li><strong>POST /apply-scents/{ad_id}</strong> - Aplicar Scents ao anúncio</li>
                <li><strong>GET /ad/{ad_id}</strong> - Visualizar anúncio</li>
                <li><strong>GET /stats/{ad_id}</strong> - Ver estatísticas do anúncio</li>
            </ul>
        </section>
        
        <section>
            <h2>Como Usar</h2>
            <p>Para utilizar esta API, siga os passos:</p>
            <ol>
                <li>Registre um usuário em <code>/register</code></li>
                <li>Obtenha um token em <code>/login</code></li>
                <li>Use o token nas requisições autenticadas</li>
            </ol>
        </section>

        <section>
            <h2>Métodos HTTP</h2>
            <p>Os métodos HTTP indicam a ação que você deseja realizar:</p>
            <div class="method-card">
                <h3>GET</h3>
                <p>Solicita dados de um recurso. Não altera nada no servidor.</p>
                <p><strong>Exemplo:</strong> <code>GET /ad/1</code> - Obtém detalhes do anúncio 1.</p>
            </div>

            <div class="method-card">
                <h3>POST</h3>
                <p>Envia dados para serem processados e criados no servidor.</p>
                <p><strong>Exemplo:</strong> <code>POST /upload</code> - Cria um novo anúncio no servidor.</p>
            </div>

            <div class="method-card">
                <h3>PUT</h3>
                <p>Atualiza um recurso existente por completo.</p>
                <p><strong>Exemplo:</strong> <code>PUT /users/profile</code> - Atualiza o perfil de usuário inteiro.</p>
            </div>

            <div class="method-card">
                <h3>PATCH</h3>
                <p>Atualiza parcialmente um recurso existente.</p>
                <p><strong>Exemplo:</strong> <code>PATCH /users/profile</code> - Atualiza apenas alguns campos do perfil.</p>
            </div>

            <div class="method-card">
                <h3>DELETE</h3>
                <p>Remove um recurso.</p>
                <p><strong>Exemplo:</strong> <code>DELETE /ad/1</code> - Remove o anúncio 1.</p>
            </div>
        </section>

        <section>
            <h2>Códigos de Status HTTP</h2>
            <p>Os códigos de status HTTP indicam o resultado de sua requisição:</p>
            
            <h3>Códigos de Sucesso (2xx)</h3>
            <ul>
                <li><strong>200 OK</strong> - A requisição foi bem-sucedida</li>
                <li><strong>201 Created</strong> - Um novo recurso foi criado com sucesso</li>
                <li><strong>204 No Content</strong> - A requisição foi bem-sucedida, mas não há conteúdo para retornar</li>
            </ul>
            
            <h3>Códigos de Erro do Cliente (4xx)</h3>
            <ul>
                <li><strong>400 Bad Request</strong> - A requisição tem parâmetros inválidos ou está mal formatada</li>
                <li><strong>401 Unauthorized</strong> - Autenticação necessária ou credenciais inválidas</li>
                <li><strong>403 Forbidden</strong> - Não tem permissão para acessar este recurso</li>
                <li><strong>404 Not Found</strong> - O recurso solicitado não existe</li>
                <li><strong>429 Too Many Requests</strong> - Você fez muitas requisições em pouco tempo</li>
            </ul>
            
            <h3>Códigos de Erro do Servidor (5xx)</h3>
            <ul>
                <li><strong>500 Internal Server Error</strong> - Erro no servidor ao processar a requisição</li>
                <li><strong>503 Service Unavailable</strong> - Servidor temporariamente indisponível</li>
            </ul>
        </section>

        <section>
            <h2>Exemplo Prático</h2>
            <p>Vamos ver um exemplo de fluxo completo:</p>
            
            <div class="example-flow">
                <div class="flow-step">
                    <h4>1. Criar uma conta</h4>
                    <p><strong>Requisição:</strong> <code>POST /register</code></p>
                    <p><strong>Corpo:</strong> <code>{"username": "usuario123", "password": "Senha_Segura123"}</code></p>
                    <p><strong>Resposta:</strong> <code>201 Created</code></p>
                </div>
                
                <div class="flow-step">
                    <h4>2. Fazer login</h4>
                    <p><strong>Requisição:</strong> <code>POST /login</code></p>
                    <p><strong>Corpo:</strong> <code>username=usuario123&password=Senha_Segura123</code></p>
                    <p><strong>Resposta:</strong> <code>200 OK</code> com token JWT</p>
                </div>
                
                <div class="flow-step">
                    <h4>3. Enviar anúncio</h4>
                    <p><strong>Requisição:</strong> <code>POST /upload</code> com token no header</p>
                    <p><strong>Resposta:</strong> <code>200 OK</code> com ID do anúncio</p>
                </div>
                
                <div class="flow-step">
                    <h4>4. Ver estatísticas</h4>
                    <p><strong>Requisição:</strong> <code>GET /stats/1</code> com token no header</p>
                    <p><strong>Resposta:</strong> <code>200 OK</code> com dados estatísticos</p>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
